# CVD监测系统 - 版本文档

## 版本历史

### v1.0.0 (2025-11-15)

#### ✨ 新增功能
1. **CVD曲线分析**
   - Z-Score标准化CVD显示
   - 支持多标的对比
   - 零轴和阈值参考线
   - 时间范围选择（1天/3天）

2. **排名统计**
   - 交易量排名图表
   - 交易笔数排名图表
   - CVD排名图表
   - Top 20可视化展示

3. **背离检测**
   - 自动检测CVD与价格背离标的
   - 双Y轴价格-CVD对比图
   - 可配置阈值参数

4. **交互功能**
   - 标的筛选（多选）
   - 时间范围选择
   - 响应式页面布局
   - 数据自动刷新

#### 🛠️ 技术实现
- **框架**: Streamlit
- **可视化**: Plotly
- **数据处理**: Pandas + NumPy
- **统计分析**: SciPy

#### 📦 模块架构
```
data_processor/
├── DataLoader          # 数据加载器
├── CVDScoreCalculator  # Z-Score计算
├── RankCalculator      # 排名计算
└── DivergenceDetector  # 背离检测
```

#### 🔧 核心算法
1. **Z-Score标准化**
   - 公式: (x - μ) / σ
   - 适用场景: 跨标的动能比较
   - 阈值: ±1.0标准差

2. **背离检测**
   - CVD极值检测
   - 价格趋势分析
   - 双向背离判断

#### 📊 数据统计
- **标的数量**: 80个
- **数据行数**: 32,000+
- **时间跨度**: 近3天
- **更新频率**: 每分钟

#### ✅ 测试覆盖
- [x] 数据加载测试
- [x] Z-Score计算测试
- [x] 排名计算测试
- [x] 背离检测测试

#### 📈 性能指标
- 数据加载时间: < 2秒
- 页面响应时间: < 1秒
- 内存占用: ~50MB
- CPU使用率: < 5%

#### 🎯 待优化项
- [ ] 数据库支持
- [ ] 历史数据回测
- [ ] 自定义指标
- [ ] 告警功能
- [ ] 数据导出

#### 🐛 已知问题
- 无

#### 📝 文档
- [x] README.md
- [x] API文档
- [x] 部署指南

---

## 技术栈详情

### 开发环境
- **Python**: 3.13
- **操作系统**: macOS
- **Python环境**: /opt/anaconda3/envs/trade/bin/python

### 依赖包
```
streamlit >= 1.28.0
pandas >= 2.2.0
numpy >= 1.26.0
plotly >= 5.18.0
scipy >= 1.11.0
watchdog >= 3.0.0
```

### 数据源
- **文件路径**: /Volumes/external/trade/高效cvd计算/cvd_monitor_speed/cvd_data_optimized/cvd_data_all.csv
- **格式**: CSV
- **编码**: UTF-8
- **更新频率**: 每分钟

---

## 维护者

开发团队

---

**更新时间**: 2025-11-15 21:58
